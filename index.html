<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ficha de Rol ‚Äî Horror G√≥tico</title>
  <!-- Fuentes g√≥ticas -->
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=IM+Fell+English+SC&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    :root{
      --bg:#0b0d0f;
      --bg-2:#111416;
      --fg:#dfe7e3;
      --muted:#a9b3ad;
      --accent:#2f8f5b;
      --accent-2:#1c5537;
      --edge:#1a1f1c;
      --glow: 0 0 18px rgba(47,143,91,.45);
      --shadow: 0 10px 30px rgba(0,0,0,.55);
      --radius:18px;
      --pad:22px;
      --gap:34px;
      --trans: 260ms cubic-bezier(.22,.61,.36,1);
    }
    html,body{height:100%; margin:0;}
    body{
      background: radial-gradient(1200px 800px at 50% -10%, #1a2224 0%, var(--bg) 55%) fixed;
      color:var(--fg);
      font-family: 'IM Fell English SC', serif;
      letter-spacing:.2px;
      display:flex; flex-direction:column; align-items:center;
      overflow-x:hidden;
      min-height:100vh;
    }
    header{
      width:min(1200px, 92vw);
      padding:40px 0 12px;
      text-align:center;
      border-bottom: 1px solid #222e26;
      margin-bottom:18px;
    }
    h1{
      font-family:'UnifrakturMaguntia', cursive;
      font-weight:400;
      margin:0 0 8px;
      font-size: clamp(38px, 5vw, 62px);
      color:#e6fff0;
      text-shadow: 0 0 16px rgba(47,143,91,.35), 0 0 4px #0a0;
      letter-spacing:2px;
    }
    .subtitle{
      color:var(--muted); opacity:.92;
      font-size:clamp(14px, 1.8vw, 16px);
      margin-bottom:18px;
      display:block;
    }
    .grid{
      width:min(1200px, 92vw);
      display:grid;
      grid-template-columns: 1fr minmax(280px, 360px) 1fr;
      grid-template-areas:
        "raza   skull   lore"
        "clase  skull   subclase"
        "hechi  skull   infus";
      gap: var(--gap);
      align-items:start;
      padding: 22px 0 64px;
    }
    .skull-box{
      grid-area: skull;
      position:relative;
      display:flex;
      justify-content:center;
      align-items:center;
      z-index:1;
    }
    .skull{
      background: radial-gradient(50% 50% at 50% 50%, rgba(47,143,91,.13), rgba(0,0,0,.0) 70%);
      display:flex; align-items:center; justify-content:center;
      padding: 24px;
      border-radius: var(--radius);
      border:1px solid var(--edge);
      box-shadow: var(--shadow), 0 0 40px rgba(47,143,91,.11);
      min-width:340px;
      min-height:340px;
    }
    .skull svg{
      width:min(100%, 360px); height:auto;
      filter: drop-shadow(0 0 16px rgba(47,143,91,.28));
      transition: filter .2s;
    }
    .pulse{animation: pulse 3.8s ease-in-out infinite; transform-origin:center;}
    @keyframes pulse{
      0%,100%{filter: drop-shadow(0 0 8px rgba(47,143,91,.29));}
      50%{filter: drop-shadow(0 0 22px rgba(47,143,91,.5));}
    }
    .gear-slow{ animation: spin 28s linear infinite; transform-origin:center; }
    .gear-fast{ animation: spin 12s linear infinite reverse; transform-origin:center; }
    @keyframes spin{ from{ transform: rotate(0deg);} to{ transform: rotate(360deg);} }
    .particles{
      position:absolute;
      inset:-20px;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .particle{
      position:absolute;
      width:2.2px; height:2.2px;
      background:rgba(179,255,220,.78);
      border-radius:50%;
      filter: blur(.5px);
      animation: float 12s linear infinite;
      opacity:.7;
    }
    @keyframes float{
      from{ transform: translateY(22px); opacity:.0;}
      10%{opacity:.6;}
      to{ transform: translateY(-540px); opacity:0;}
    }
    /* MODAL BUTTONS */
    .modal-lista {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      justify-content: center;
      margin-bottom: 16px;
      margin-top: 8px;
    }
    .modal-btn {
      background: rgba(47,143,91,0.17);
      color: #dff5ea;
      border: none;
      border-radius: 9px;
      padding: 14px 22px;
      font-size: 1.09em;
      font-weight: 600;
      box-shadow: 0 2px 12px #1a3125a1;
      cursor: pointer;
      transition: background 0.12s, box-shadow 0.12s;
      margin-bottom: 4px;
    }
    .modal-btn:hover {
      background: rgba(47,143,91,0.28);
      box-shadow: 0 4px 18px #1a3125c6;
    }
    /* MODAL OVERLAY */
    .modal-overlay {
      display: none;
      position: fixed;
      z-index: 98;
      left: 0; top: 0; right: 0; bottom: 0;
      width: 100vw; height: 100vh;
      background: rgba(20,32,24,0.82);
      backdrop-filter: blur(5px);
      animation: fadeIn 0.25s;
    }
    .modal-overlay.active {
      display: block;
      animation: fadeIn 0.22s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    /* MODAL WINDOW */
    .modal-window {
      position: fixed;
      z-index: 99;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(27,33,32,0.97);
      color: #dff5ea;
      border-radius: 16px;
      box-shadow: 0 4px 32px #2f8f5b4a;
      width: min(700px, 92vw);
      max-height: 80vh;
      overflow-y: auto;
      padding: 36px 32px 32px 32px;
      display: none;
      animation: modalSlide 0.22s;
    }
    .modal-window.active {
      display: block;
      animation: modalSlide 0.22s;
    }
    @keyframes modalSlide {
      from { opacity: 0; transform: translate(-50%, -62%);}
      to { opacity: 1; transform: translate(-50%, -50%);}
    }
    .modal-close {
      position: absolute;
      top: 12px; right: 20px;
      font-size: 2.2em;
      color: #dff5ea;
      cursor: pointer;
      background: none;
      border: none;
      opacity: 0.6;
      transition: opacity 0.17s;
      z-index: 101;
    }
    .modal-close:hover {
      opacity: 1;
      color: #f06d6d;
    }
    .modal-window::-webkit-scrollbar {
      width: 7px;
      background: #26342d;
      border-radius: 8px;
    }
    .modal-window::-webkit-scrollbar-thumb {
      background: #2f8f5b;
      border-radius: 8px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 12px;
      font-size: 0.95em;
      background: rgba(27,33,32,0.92);
      border-radius: 10px;
      box-shadow: 0 2px 14px rgba(47,143,91,0.09);
      border:1px solid #222e26;
    }
    th, td {
      padding: 7px 8px;
      border-bottom: 1px solid #2f8f5b;
    }
    thead tr {
      background: rgba(47,143,91,0.13);
      color: #dff5ea;
    }
    h4 {
      margin-top: 0;
      margin-bottom: 4px;
      color: #dff5ea;
      font-size: 1.18em;
    }
    ul {padding-left: 20px;}
    small {color: #a9b3ad;}
    @media (max-width: 980px){
      .grid{
        grid-template-columns: 1fr;
        grid-template-areas: "skull" "raza" "lore" "clase" "subclase" "hechi" "infus";
        padding:12px 0 44px;
      }
      .skull{min-width:220px; min-height:220px;}
      header{padding:28px 0 10px;}
    }
    @media (max-width:640px){
      .panel{padding:0;}
      .skull{padding:10px;}
      h1{font-size:2.4em;}
      .panel .body{font-size:1em;}
      .modal-window{padding:24px 9px 20px 9px;}
    }
  </style>
</head>
<body>
  <header>
    <h1>‚ò†Ô∏è Grimorio del Artificiero</h1>
    <span class="subtitle">Veythar, el Sello Oscuro</span>
  </header>
  <div class="modal-lista">
    <button class="modal-btn" onclick="openModal('raza')">üß¨ Raza</button>
    <button class="modal-btn" onclick="openModal('lore')">üìñ Lore</button>
    <button class="modal-btn" onclick="openModal('clase')">‚öîÔ∏è Clase</button>
    <button class="modal-btn" onclick="openModal('subclase')">üõ°Ô∏è Subclase</button>
    <button class="modal-btn" onclick="openModal('hechizos')">üìú Hechizos de artificiero</button>
    <button class="modal-btn" onclick="openModal('infusiones')">‚öôÔ∏è Infusiones de artificiero</button>
    <button class="modal-btn" onclick="openModal('homunculo')">üê¶ Sirviente Hom√∫nculo</button>
  </div>
  <main class="grid">
    <section class="skull-box">
      <div class="panel skull">
        <div class="particles" aria-hidden="true"></div>
        <svg viewBox="0 0 520 520" role="img" aria-label="Calavera con engranajes">
          <defs>
            <linearGradient id="gMetal" x1="0" x2="1">
              <stop offset="0%" stop-color="#9db7a9"/>
              <stop offset="50%" stop-color="#edf7f0"/>
              <stop offset="100%" stop-color="#708a7b"/>
            </linearGradient>
            <radialGradient id="eyeGlow" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#62d69b"/>
              <stop offset="60%" stop-color="#2f8f5b"/>
              <stop offset="100%" stop-color="#0b261a"/>
            </radialGradient>
          </defs>
          <path class="pulse" d="M260 50c-100 0-180 80-180 180s80 180 180 180 180-80 180-180-80-180-180-180z" fill="url(#gMetal)" fill-opacity="0.95" stroke="#1b2a24" stroke-width="6" />
          <circle cx="210" cy="220" r="36" fill="url(#eyeGlow)" />
          <circle cx="310" cy="220" r="36" fill="url(#eyeGlow)" />
          <path d="M260 260 l-20 30 h40 z" fill="#0e241b" />
          <rect x="200" y="310" width="120" height="26" rx="4" fill="#0e241b" />
          <g fill="#cfe3d7">
            <rect x="206" y="312" width="12" height="22" rx="2"/>
            <rect x="224" y="312" width="12" height="22" rx="2"/>
            <rect x="242" y="312" width="12" height="22" rx="2"/>
            <rect x="260" y="312" width="12" height="22" rx="2"/>
            <rect x="278" y="312" width="12" height="22" rx="2"/>
            <rect x="296" y="312" width="12" height="22" rx="2"/>
          </g>
          <g class="gear-slow" transform="translate(380,150)">
            <circle r="46" fill="#1c5537" stroke="#2f8f5b" stroke-width="6"/>
            <circle r="18" fill="#0b261a" stroke="#2f8f5b" stroke-width="4"/>
          </g>
          <g class="gear-fast" transform="translate(360,240)">
            <circle r="28" fill="#0f2f22" stroke="#2f8f5b" stroke-width="5"/>
            <circle r="12" fill="#0b261a" stroke="#2f8f5b" stroke-width="3"/>
          </g>
          <g class="gear-slow" transform="translate(140,120)">
            <circle r="22" fill="#1c5537" stroke="#2f8f5b" stroke-width="4"/>
          </g>
          <g class="gear-fast" transform="translate(400,320)">
            <circle r="18" fill="#0f2f22" stroke="#2f8f5b" stroke-width="3"/>
          </g>
        </svg>
      </div>
    </section>
  </main>
  <div id="modalOverlay" class="modal-overlay" onclick="closeModal()"></div>
  <div id="modalWindow" class="modal-window">
    <button class="modal-close" onclick="closeModal()">&times;</button>
    <div id="modalContent"></div>
  </div>
  <script>
    (function(){
      const wrap = document.querySelector('.particles');
      if(!wrap) return;
      const W = wrap.offsetWidth || 360; const H = wrap.offsetHeight || 360;
      const COUNT = 32;
      for(let i=0;i<COUNT;i++){
        const d = document.createElement('div');
        d.className = 'particle';
        d.style.left = Math.random()*W + 'px';
        d.style.bottom = (-40 + Math.random()*40) + 'px';
        d.style.animationDelay = (Math.random()*12)+'s';
        d.style.opacity = Math.random()*0.8 + 0.2;
        wrap.appendChild(d);
      }
    })();
    const modalContents = {
      raza: `<div class="body"><h4 style="margin-top:0;">Alineaci√≥n y comportamiento</h4>
      <strong>Alineaci√≥n:</strong> Ca√≥tico Malvado ‚Äì Vive sin leyes ni moral ajena, guiado solo por inter√©s propio y placer, sin reparos en da√±ar o matar.<br><br>
      <strong>C√≥digo moral:</strong> Sobrevivir siempre, cobrar por adelantado, no desperdiciar recursos, y acabar el trabajo con eficiencia.<br><br>
      <strong>Costumbres:</strong> Mantiene su rev√≥lver como un ritual, evita lazos emocionales y desaparece tras cumplir contratos.<br><br>
      <strong>Tab√∫es:</strong> Arriesgar su inmortalidad sin gran beneficio, que toquen su arma, y servir ciegamente a una autoridad.<br><br>
      <strong>Rasgos culturales:</strong> Marginado por su naturaleza de lich, desconf√≠a de instituciones y ve a los mortales como piezas temporales.
      <hr><h4>Habilidades raciales</h4>
      <ul>
        <li><strong>Edad:</strong> Inmortal, puede vivir eternamente salvo por muerte no natural.</li>
        <li><strong>Tama√±o:</strong> Mediano (1,8 m), complexi√≥n deteriorada o esbelta.</li>
        <li><strong>Velocidad:</strong> 30 pies.</li>
        <li><strong>Visi√≥n en la oscuridad:</strong> 18 m, tonos de gris.</li>
        <li><strong>Inmortalidad:</strong> Inmune a enfermedades, venenos y envenenamiento; no necesita comer, dormir o respirar.</li>
        <li><strong>Magia oscura:</strong> Truco <em>Toque g√©lido</em>; nivel 3: <em>Infligir heridas</em> (nivel 2, 1/descanso corto); nivel 5: <em>Hablar con los muertos</em> (1/descanso largo). Inteligencia como atributo de lanzamiento.</li>
        <li><strong>Idiomas:</strong> Com√∫n, abisal e infernal.</li>
        <li><strong>Abominaci√≥n no muerta:</strong> Vulnerable a da√±o radiante.</li>
      </ul></div>`,
      lore: `<div class="body"><h4 style="margin-top:0;">La leyenda de Veythar el Sello Negro</h4>
      Cuentan que, antes de convertirse en lo que es ahora, Veythar fue un hombre. Un inventor brillante, pistolero letal y mercenario implacable que vend√≠a su ingenio al mejor postor. Su rev√≥lver, √∫nico en su clase, estaba grabado con runas tan precisas que cada bala parec√≠a obedecerle como un perro fiel.<br><br>
      Pero la genialidad atrae enemigos, y un cliente con demasiado poder y poca paciencia decidi√≥ que no pensaba pagar el precio de su √∫ltima creaci√≥n. Lo traicionaron, lo dejaron moribundo, enterrado bajo metralla y polvo, con sus herramientas rotas y sus sue√±os arrancados.<br><br>
      Veythar no muri√≥. No pod√≠a permitirse el lujo de hacerlo. En su agon√≠a, escuch√≥ voces que susurraban desde un lugar m√°s all√° de la vida, ofreci√©ndole poder a cambio de algo mucho m√°s valioso. Sell√≥ un pacto con la nigromancia m√°s oscura, y su cuerpo se convirti√≥ en una carcasa marchita, sostenida por pura voluntad y magia prohibida. Su coraz√≥n dej√≥ de latir‚Ä¶ pero su ingenio, nunca.<br><br>
      Desde entonces, recorre ciudades y fronteras como El Sello Negro, un mercenario que cumple cualquier contrato‚Ä¶ siempre que el pago sea lo bastante interesante. Oro, almas, artefactos, secretos: todo tiene valor para √©l. Siempre deja una moneda ennegrecida con su marca r√∫nica sobre el cad√°ver de su objetivo, como si fuera su firma y su advertencia.<br><br>
      Su rev√≥lver ‚Äîsu filacteria oculta, aunque nadie lo sospecha‚Äî dispara no solo plomo, sino fuego fe√©rico, humo sofocante y rayos de pura fuerza. Se dice que ha abatido demonios, magos, nobles y hasta criaturas que no pertenecen a este mundo. Su punter√≠a es tan precisa que algunos juran que podr√≠a arrancarte el alma con un disparo‚Ä¶ y guardarla en el tambor como una bala m√°s.<br><br>
      Veythar no es un h√©roe ni un villano: es un contratista del caos. Sus trabajos a veces favorecen a un bando, otras veces al contrario, pero casi siempre solo le benefician a √©l. Para Veythar, el mundo ‚Äîvivo o muerto‚Äî no es m√°s que un tablero de tiro‚Ä¶ y √©l siempre dispara primero.
      <hr><h4>Aspecto y trasfondo</h4>
      <p>Fisionom√≠a, marcas, equipo ic√≥nico, creencias y metas ocultas.</p></div>`,
      clase: `<div class="body">
        <!-- Tu bloque de clase queda igual que el que ten√≠as en el panel #clase -->
        ${document.querySelector('body').innerHTML.match(/<section id="clase"[^>]*>[\s\S]*?<\/section>/)?.[0].replace(/<section[^>]*>|<\/section>/g,'').replace(/<div class="head">[\s\S]*?<\/div>/,'')}
      </div>`,
      subclase: `<div class="body">
        ${document.querySelector('body').innerHTML.match(/<section id="subclase"[^>]*>[\s\S]*?<\/section>/)?.[0].replace(/<section[^>]*>|<\/section>/g,'').replace(/<div class="head">[\s\S]*?<\/div>/,'')}
      </div>`,
      hechizos: `<div class="body">
        ${document.querySelector('body').innerHTML.match(/<section id="hechizos"[^>]*>[\s\S]*?<\/section>/)?.[0].replace(/<section[^>]*>|<\/section>/g,'').replace(/<div class="head">[\s\S]*?<\/div>/,'')}
      </div>`,
      infusiones: `<div class="body">
        ${document.querySelector('body').innerHTML.match(/<section id="infusiones"[^>]*>[\s\S]*?<\/section>/)?.[0].replace(/<section[^>]*>|<\/section>/g,'').replace(/<div class="head">[\s\S]*?<\/div>/,'')}
      </div>`,
      homunculo: `<div class="body">
        ${document.querySelector('body').innerHTML.match(/<section id="infusiones"[^>]*>[\s\S]*?<\/section>/)?.[0].replace(/<section[^>]*>|<\/section>/g,'').replace(/<div class="head">[\s\S]*?<\/div>/,'').match(/<details>[\s\S]*?Sirviente Hom√∫nculo[\s\S]*?<\/details>/)?.[0]}
      </div>`
    };
    function openModal(key) {
      document.getElementById('modalContent').innerHTML = modalContents[key];
      document.getElementById('modalOverlay').classList.add('active');
      document.getElementById('modalWindow').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closeModal() {
      document.getElementById('modalOverlay').classList.remove('active');
      document.getElementById('modalWindow').classList.remove('active');
      document.body.style.overflow = '';
    }
    document.addEventListener('keydown', function(e){
      if(e.key === "Escape") closeModal();
    });
    document.getElementById('modalWindow').addEventListener('click', function(e){
      e.stopPropagation();
    });
  </script>
</body>
</html>
